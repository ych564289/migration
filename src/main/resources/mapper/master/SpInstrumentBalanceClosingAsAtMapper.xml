<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.migration.dao.master.mapper.SpInstrumentBalanceClosingAsAtMapper">
    <resultMap id="BaseResultMap" type="com.example.migration.dao.master.entity.SpInstrumentBalanceClosingAsAt">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <result column="ClntCode" jdbcType="VARCHAR" property="clntCode" />
        <result column="AcctType" jdbcType="VARCHAR" property="acctType" />
        <result column="Market" jdbcType="VARCHAR" property="market" />
        <result column="TradingCcy" jdbcType="VARCHAR" property="tradingCcy" />
        <result column="Instrument" jdbcType="VARCHAR" property="instrument" />
        <result column="BalanceType" jdbcType="VARCHAR" property="balanceType" />
        <result column="AsAt" jdbcType="DECIMAL" property="asAt" />
    </resultMap>

    <select id="querySpInstrumentBalanceClosingAsAt"
            resultType="com.example.migration.dao.master.entity.SpInstrumentBalanceClosingAsAt">

        EXEC [sp_InstrumentBalance_ClosingAsAt]
        @AsAt = #{exportDate},
        @accountnature='client',
        @balancetype = #{balanceType.code};

    </select>


</mapper>